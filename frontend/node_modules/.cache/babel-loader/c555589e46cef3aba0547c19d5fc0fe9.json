{"ast":null,"code":"var _jsxFileName = \"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/purchase/purchaseModal/index.js\";\nimport React from \"react\";\nimport { Modal, Form, Icon, Input, Button, Spin, Alert, Select, Row, Col, InputNumber } from 'antd';\nimport { connect } from \"react-redux\";\nimport purchaseActions from \"../../../redux/purchase/actions\";\nimport clientsActions from \"../../../redux/clients/actions\";\nimport productActions from \"../../../redux/products/actions\";\nimport { IdcardOutlined, PhoneOutlined } from '@ant-design/icons';\nimport styles from \"./styles.module.scss\";\nconst {\n  Option\n} = Select;\n\nclass ClientModal extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      client: {}\n    };\n\n    this.handleCancel = e => {\n      e.preventDefault();\n      this.props.dispatch({\n        type: purchaseActions.SET_STATE,\n        payload: {\n          showAddModal: false\n        }\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        form,\n        dispatch\n      } = this.props;\n      form.validateFields((error, values) => {\n        if (!error) {\n          const {\n            client,\n            product\n          } = this.state;\n          const newPurchase = {\n            productId: product.id,\n            productName: product.name,\n            clientId: client.id,\n            clientName: client.fullName\n          };\n          dispatch({\n            type: purchaseActions.ADD_NEW_PURCHASE,\n            payload: {\n              newPurchase: { ...values,\n                ...newPurchase\n              }\n            }\n          });\n        }\n      });\n    };\n\n    this.searchForClients = search => {\n      const {\n        size,\n        page,\n        sort,\n        order\n      } = this.props.clients;\n      this.props.dispatch({\n        type: clientsActions.LOAD_CLIENTS,\n        payload: {\n          size,\n          page,\n          sort,\n          order,\n          search\n        }\n      });\n    };\n\n    this.handleSearch = search => {\n      const {\n        size,\n        page,\n        sort,\n        order\n      } = this.props.clients;\n      this.props.dispatch({\n        type: clientsActions.LOAD_CLIENTS,\n        payload: {\n          size,\n          page,\n          sort,\n          order,\n          search\n        }\n      });\n    };\n\n    this.onSelect = id => {\n      const {\n        clients\n      } = this.props.clients;\n\n      for (let i = 0; i < clients.length; i++) {\n        if (clients[i].id === id) {\n          this.setState({\n            client: clients[i]\n          });\n          this.props.form.setFieldsValue({\n            cine: clients[i].cine\n          });\n        }\n      }\n    };\n\n    this.handleSearchP = search => {\n      const {\n        size,\n        page,\n        sort,\n        order\n      } = this.props.products;\n      this.props.dispatch({\n        type: productActions.LOAD_PRODUCTS,\n        payload: {\n          size,\n          page,\n          sort,\n          order,\n          search\n        }\n      });\n    };\n\n    this.onSelectP = id => {\n      const {\n        products\n      } = this.props.products;\n\n      for (let i = 0; i < products.length; i++) {\n        if (products[i].id === id) {\n          this.setState({\n            product: products[i]\n          });\n          this.props.form.setFieldsValue({\n            unitPrice: products[i].unitPrice\n          });\n        }\n      }\n    };\n\n    this.calculePurchase = num => {\n      const unitPrice = this.props.form.getFieldValue(\"unitPrice\");\n\n      if (unitPrice) {\n        const totalPrice = num * unitPrice;\n        this.props.form.setFieldsValue({\n          totalPrice,\n          totalPaid: totalPrice,\n          remainingAmount: 0\n        });\n      }\n    };\n\n    this.changeUnitPrice = up => {\n      const totalPrice = this.props.form.getFieldValue(\"totalPrice\");\n      const numberOfUnity = this.props.form.getFieldValue(\"numberOfUnity\");\n\n      if (totalPrice >= 0 && numberOfUnity >= 0) {\n        const total = up * numberOfUnity;\n        this.props.form.setFieldsValue({\n          totalPrice: total,\n          totalPaid: total,\n          remainingAmount: 0\n        });\n      }\n    };\n\n    this.calculRemainingAmout = amount => {\n      debugger;\n      const remainingAmount = this.props.form.getFieldValue(\"totalPrice\") - amount;\n      this.props.form.setFieldsValue({\n        remainingAmount\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      size,\n      page,\n      sort,\n      order\n    } = this.props.products;\n    this.props.dispatch({\n      type: productActions.LOAD_PRODUCTS,\n      payload: {\n        size,\n        page,\n        sort,\n        order\n      }\n    });\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const {\n      loading,\n      showErrorMessage,\n      message,\n      showAddModal\n    } = this.props.purchases;\n    const {\n      clients\n    } = this.props.clients;\n    const {\n      products\n    } = this.props.products;\n    const options = clients.map((d, index) => /*#__PURE__*/React.createElement(Option, {\n      key: index,\n      value: d.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 46\n      }\n    }, d.fullName));\n    const optionsP = products.map((d, index) => /*#__PURE__*/React.createElement(Option, {\n      key: index,\n      value: d.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 48\n      }\n    }, d.name));\n    return /*#__PURE__*/React.createElement(Modal, {\n      title: \"Ajout un achat\",\n      visible: showAddModal,\n      width: 700,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      footer: null,\n      destroyOnClose: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      spinning: loading,\n      tip: \"Loading...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, showErrorMessage && /*#__PURE__*/React.createElement(Alert, {\n      message: message,\n      type: \"error\",\n      banner: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"R\\xE9f\\xE9rence\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('reference', {\n      rules: [{\n        required: true,\n        message: 'Référence Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      justify: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('client', {\n      rules: [{\n        required: true,\n        message: \"Client obligatoire\"\n      }]\n    })( /*#__PURE__*/React.createElement(Select, {\n      showSearch: true,\n      defaultActiveFirstOption: false,\n      showArrow: false,\n      filterOption: false,\n      onSearch: this.handleSearch,\n      onSelect: this.onSelect,\n      notFoundContent: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, options)))), /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"CINE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('cine', {\n      rules: [{\n        required: true,\n        message: 'CINE Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      disabled: true,\n      prefix: /*#__PURE__*/React.createElement(IdcardOutlined, {\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 31\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      justify: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Produit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('product', {\n      rules: [{\n        required: true,\n        message: \"Produit obligatoire\"\n      }]\n    })( /*#__PURE__*/React.createElement(Select, {\n      showSearch: true,\n      defaultActiveFirstOption: false,\n      showArrow: false,\n      filterOption: false,\n      onSearch: this.handleSearchP,\n      onSelect: this.onSelectP,\n      notFoundContent: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, optionsP)))), /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Prix d'unit\\xE9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('unitPrice', {\n      rules: [{\n        required: true,\n        message: 'Prix d\\'unité Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      onChange: up => this.changeUnitPrice(up),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      justify: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Nombre d'unit\\xE9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('numberOfUnity', {\n      initialValue: 0,\n      rules: [{\n        required: true,\n        message: \"Nombre d'unité obligatoire\"\n      }]\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      onChange: e => this.calculePurchase(e),\n      min: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Prix Total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('totalPrice', {\n      initialValue: 0,\n      rules: [{\n        required: true,\n        message: 'Prix d\\'unité Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      justify: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Montant pay\\xE9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('totalPaid', {\n      initialValue: 0,\n      rules: [{\n        required: true,\n        message: \"Montant payé obligatoire\"\n      }]\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      min: 0,\n      onChange: am => this.calculRemainingAmout(am),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      span: 11,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Montant Restant\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, getFieldDecorator('remainingAmount', {\n      initialValue: 0\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      min: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.footer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }, \"Valider\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }\n    }, \"Annuler\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return state;\n};\n\nconst WrappedClientModalForm = Form.create({\n  name: 'add_client_modal'\n})(ClientModal);\nexport default connect(mapStateToProps)(WrappedClientModalForm);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/purchase/purchaseModal/index.js"],"names":["React","Modal","Form","Icon","Input","Button","Spin","Alert","Select","Row","Col","InputNumber","connect","purchaseActions","clientsActions","productActions","IdcardOutlined","PhoneOutlined","styles","Option","ClientModal","Component","state","client","handleCancel","e","preventDefault","props","dispatch","type","SET_STATE","payload","showAddModal","handleSubmit","form","validateFields","error","values","product","newPurchase","productId","id","productName","name","clientId","clientName","fullName","ADD_NEW_PURCHASE","searchForClients","search","size","page","sort","order","clients","LOAD_CLIENTS","handleSearch","onSelect","i","length","setState","setFieldsValue","cine","handleSearchP","products","LOAD_PRODUCTS","onSelectP","unitPrice","calculePurchase","num","getFieldValue","totalPrice","totalPaid","remainingAmount","changeUnitPrice","up","numberOfUnity","total","calculRemainingAmout","amount","componentDidMount","render","getFieldDecorator","loading","showErrorMessage","message","purchases","options","map","d","index","optionsP","handleOk","rules","required","color","initialValue","am","footer","mapStateToProps","WrappedClientModalForm","create"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Modal, Form, Icon, Input, Button, Spin, Alert, Select, Row, Col, InputNumber } from 'antd';\nimport { connect } from \"react-redux\"\nimport purchaseActions from \"../../../redux/purchase/actions\"\nimport clientsActions from \"../../../redux/clients/actions\"\nimport productActions from \"../../../redux/products/actions\"\nimport { IdcardOutlined, PhoneOutlined } from '@ant-design/icons';\nimport styles from \"./styles.module.scss\"\n\nconst { Option } = Select;\n\nclass ClientModal extends React.Component {\n  state = {\n    client:{}\n  }\n\n  componentDidMount(){\n    const {size, page, sort, order} = this.props.products\n    this.props.dispatch({\n      type: productActions.LOAD_PRODUCTS,\n      payload:{size, page, sort, order}\n    })\n  }\n\n  handleCancel = e =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type:purchaseActions.SET_STATE,\n      payload: {showAddModal: false}\n    })\n  }\n\n  handleSubmit = e=>{\n    e.preventDefault()\n    const { form, dispatch } = this.props\n    form.validateFields((error, values) => {\n      if(!error){\n        const {client, product} = this.state\n        const newPurchase = {\n          productId: product.id,\n          productName: product.name,\n          clientId: client.id,\n          clientName: client.fullName,\n        }\n        dispatch({\n          type: purchaseActions.ADD_NEW_PURCHASE,\n          payload: {newPurchase:{...values,...newPurchase}}\n        })\n      }\n    })\n  }\n\n  searchForClients = search=>{\n    const {size, page, sort, order} = this.props.clients\n    this.props.dispatch({\n      type: clientsActions.LOAD_CLIENTS,\n      payload:{size, page, sort, order, search}\n    })\n  }\n\n  handleSearch = search => {\n    const {size, page, sort, order} = this.props.clients\n    this.props.dispatch({\n      type: clientsActions.LOAD_CLIENTS,\n      payload:{size, page, sort, order, search}\n    })\n  };\n\n  onSelect = id => {\n    const {clients} = this.props.clients\n    for(let i = 0; i<clients.length; i++){\n      if(clients[i].id === id){\n        this.setState({client:clients[i]})\n        this.props.form.setFieldsValue({cine:clients[i].cine})\n      }\n    }\n  }\n\n  handleSearchP = search => {\n    const {size, page, sort, order} = this.props.products\n    this.props.dispatch({\n      type: productActions.LOAD_PRODUCTS,\n      payload:{size, page, sort, order, search}\n    })\n  };\n\n  onSelectP = id => {\n    const {products} = this.props.products\n    for(let i = 0; i<products.length; i++){\n      if(products[i].id === id){\n        this.setState({product:products[i]})\n        this.props.form.setFieldsValue({unitPrice: products[i].unitPrice})\n      }\n    }\n  }\n\n  calculePurchase = num =>{\n    const unitPrice = this.props.form.getFieldValue(\"unitPrice\")\n    if(unitPrice){\n      const totalPrice = num * unitPrice\n      this.props.form.setFieldsValue({totalPrice,totalPaid:totalPrice,remainingAmount:0})\n    }\n  }\n\n  changeUnitPrice = up => {\n    const totalPrice = this.props.form.getFieldValue(\"totalPrice\")\n    const numberOfUnity = this.props.form.getFieldValue(\"numberOfUnity\")\n    if(totalPrice>=0 && numberOfUnity>=0){\n      const total = up * numberOfUnity\n      this.props.form.setFieldsValue({totalPrice:total,totalPaid:total,remainingAmount:0})\n    }\n  }\n\n  calculRemainingAmout = amount =>{\n    debugger\n    const remainingAmount = this.props.form.getFieldValue(\"totalPrice\") - amount\n    this.props.form.setFieldsValue({remainingAmount})\n  }\n\n  render(){\n    const { getFieldDecorator } = this.props.form;\n    const {loading, showErrorMessage, message, showAddModal} = this.props.purchases\n    const { clients } = this.props.clients\n    const { products } = this.props.products\n    const options = clients.map((d,index) => <Option key={index} value={d.id}>{d.fullName}</Option>);\n    const optionsP = products.map((d,index) => <Option key={index} value={d.id}>{d.name}</Option>);\n    return (\n      <Modal\n        title=\"Ajout un achat\"\n        visible={showAddModal}\n        width={700}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        footer={null}\n        destroyOnClose={true}\n      >\n        <Spin spinning={loading} tip=\"Loading...\">\n        {showErrorMessage&&<Alert message={message} type=\"error\" banner />}\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item label=\"Référence\">\n              {getFieldDecorator('reference', {\n                rules: [{ required: true, message: 'Référence Obligatoire!' }],\n              })(\n                <Input />,\n              )}\n            </Form.Item>\n            <Row type=\"flex\" justify=\"space-between\" >\n              <Col span={11}>\n                <Form.Item label=\"Client\">\n                  {getFieldDecorator(\n                    'client',\n                    {rules:[\n                      { required: true, message: \"Client obligatoire\" },\n                    ]},\n                  )(\n                    <Select\n                      showSearch\n                      defaultActiveFirstOption={false}\n                      showArrow={false}\n                      filterOption={false}\n                      onSearch={this.handleSearch}\n                      onSelect={this.onSelect}\n                      notFoundContent={null}\n                    >\n                      {options}\n                    </Select>,\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={11}>\n                <Form.Item label=\"CINE\">\n                  {getFieldDecorator('cine', {\n                    rules: [{ required: true, message: 'CINE Obligatoire!' }],\n                  })(\n                    <Input\n                      disabled\n                      prefix={<IdcardOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    />,\n                  )}\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row type=\"flex\" justify=\"space-between\" >\n              <Col span={11}>\n                <Form.Item label=\"Produit\">\n                  {getFieldDecorator(\n                    'product',\n                    {rules:[\n                      { required: true, message: \"Produit obligatoire\" },\n                    ]},\n                  )(\n                    <Select\n                      showSearch\n                      defaultActiveFirstOption={false}\n                      showArrow={false}\n                      filterOption={false}\n                      onSearch={this.handleSearchP}\n                      onSelect={this.onSelectP}\n                      notFoundContent={null}\n                    >\n                      {optionsP}\n                    </Select>,\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={11}>\n                <Form.Item label=\"Prix d'unité\">\n                  {getFieldDecorator('unitPrice', {\n                    rules: [{ required: true, message: 'Prix d\\'unité Obligatoire!' }],\n                  })(\n                    <InputNumber onChange={up=>this.changeUnitPrice(up)} />,\n                  )}\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row type=\"flex\" justify=\"space-between\" >\n              <Col span={11}>\n                <Form.Item label=\"Nombre d'unité\">\n                  {getFieldDecorator(\n                    'numberOfUnity',\n                    {\n                      initialValue:0,\n                      rules:[\n                      { required: true, message: \"Nombre d'unité obligatoire\" },\n                    ]},\n                  )(\n                    <InputNumber onChange={e=>this.calculePurchase(e)} min={0} />,\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={11}>\n                <Form.Item label=\"Prix Total\">\n                  {getFieldDecorator('totalPrice', {\n                    initialValue:0,\n                    rules: [{ required: true, message: 'Prix d\\'unité Obligatoire!' }],\n                  })(\n                    <InputNumber disabled />,\n                  )}\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row type=\"flex\" justify=\"space-between\" >\n              <Col span={11}>\n                <Form.Item label=\"Montant payé\">\n                  {getFieldDecorator(\n                    'totalPaid',\n                    {\n                      initialValue:0,\n                      rules:[\n                      { required: true, message: \"Montant payé obligatoire\" },\n                    ]},\n                  )(\n                    <InputNumber min={0} onChange={am=>this.calculRemainingAmout(am)}  />,\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={11}>\n                <Form.Item label=\"Montant Restant\">\n                  {getFieldDecorator('remainingAmount', {\n                    initialValue:0,\n                  })(\n                    <InputNumber min={0} />,\n                  )}\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <div className={styles.footer}>\n              <div>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Valider\n                </Button>\n              </div>\n              <div>\n                <Button onClick={this.handleCancel}>Annuler</Button>\n              </div>\n            </div>\n          </Form>\n        </Spin>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state\n}\n\nconst WrappedClientModalForm = Form.create({ name: 'add_client_modal' })(ClientModal);\n\nexport default connect(mapStateToProps)(WrappedClientModalForm)\n"]},"metadata":{},"sourceType":"module"}