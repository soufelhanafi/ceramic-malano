{"ast":null,"code":"import _objectSpread from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Modal,Form,Select,Input,Button,Spin,Alert,Row,Col,InputNumber}from'antd';import{connect}from\"react-redux\";import productActions from\"../../../redux/products/actions\";import styles from\"./styles.module.scss\";var EditClientModal=/*#__PURE__*/function(_React$Component){_inherits(EditClientModal,_React$Component);var _super=_createSuper(EditClientModal);function EditClientModal(){var _this;_classCallCheck(this,EditClientModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={price:_this.props.productToEdit.price};_this.handleCancel=function(e){e.preventDefault();_this.props.dispatch({type:productActions.SET_STATE,payload:{showEditModal:false,productToEdit:{}}});};_this.handleSubmit=function(e){e.preventDefault();var _this$props=_this.props,form=_this$props.form,dispatch=_this$props.dispatch,productToEdit=_this$props.productToEdit;form.validateFields(function(error,values){if(!error){dispatch({type:productActions.UPDATE_PRODUCT,payload:{productToEdit:_objectSpread(_objectSpread({},productToEdit),values)}});}});};_this.onValueChange=function(input){if(input.floatValue){_this.setState({price:input.floatValue,amountError:false});return;}_this.setState({amount:false,amountError:true});};_this.onQuantityChage=function(input){if(input.floatValue){_this.setState({quantity:input.floatValue,quantityError:false});return;}_this.setState({quantity:false,quantityError:true});};return _this;}_createClass(EditClientModal,[{key:\"render\",value:function render(){var _this$props2=this.props,showEditModal=_this$props2.showEditModal,productToEdit=_this$props2.productToEdit,loading=_this$props2.loading,showErrorMessage=_this$props2.showErrorMessage,message=_this$props2.message,categories=_this$props2.categories;var getFieldDecorator=this.props.form.getFieldDecorator;console.log(\"productToEditproductToEditproductToEdit\");return/*#__PURE__*/React.createElement(Modal,{title:\"Basic Modal\",visible:showEditModal,width:700,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,destroyOnClose:true},/*#__PURE__*/React.createElement(Spin,{spinning:loading,tip:\"Loading...\"},showErrorMessage&&/*#__PURE__*/React.createElement(Alert,{message:message,type:\"error\",banner:true}),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,className:\"login-form\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Le nom du produit\"},getFieldDecorator('name',{initialValue:productToEdit.name,rules:[{required:true,message:'Le nom du produit Obligatoire.'}]})(/*#__PURE__*/React.createElement(Input,null))),/*#__PURE__*/React.createElement(Form.Item,{label:\"La marque\"},getFieldDecorator('mark',{initialValue:productToEdit.mark,rules:[{required:true,message:'La marque Obligatoire!'}]})(/*#__PURE__*/React.createElement(Input,null))),/*#__PURE__*/React.createElement(Form.Item,{label:\"Cat\\xE9gorie\"},getFieldDecorator('catId',{initialValue:productToEdit.catId,rules:[{required:true,message:'La Catégorie du produit est obligatoire'}]})(/*#__PURE__*/React.createElement(Select,{showSearch:true,filterOption:function filterOption(input,option){return option.props.children.toLowerCase().indexOf(input.toLowerCase())>=0;},onSelect:function onSelect(v){return console.log(v);}},categories.map(function(item){return/*#__PURE__*/React.createElement(Select.Option,{key:item.id,value:item.id},item.name);})))),/*#__PURE__*/React.createElement(Row,{type:\"flex\",justify:\"space-between\",align:\"middle\"},/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,lg:10},/*#__PURE__*/React.createElement(Form.Item,{label:\"Prix d'unit\\xE9\"},getFieldDecorator('unitPrice',{initialValue:productToEdit.unitPrice,rules:[{required:true,message:'Prix d\\'unité Obligatoire!'}]})(/*#__PURE__*/React.createElement(InputNumber,{min:0})))),/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,lg:10},/*#__PURE__*/React.createElement(Form.Item,{label:\"Quantit\\xE9\"},getFieldDecorator('quantity',{initialValue:productToEdit.quantity,rules:[{required:true,message:'Quantité Obligatoire!'}]})(/*#__PURE__*/React.createElement(InputNumber,{min:0}))))),/*#__PURE__*/React.createElement(Form.Item,{label:\"D\\xE9scription\"},getFieldDecorator('description',{initialValue:productToEdit.description})(/*#__PURE__*/React.createElement(Input.TextArea,{rows:4}))),/*#__PURE__*/React.createElement(\"div\",{className:styles.footer},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Valider\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleCancel},\"Annuler\"))))));}}]);return EditClientModal;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.products;};var WrappedClientModalForm=Form.create({name:'edit_product_modal'})(EditClientModal);export default connect(mapStateToProps)(WrappedClientModalForm);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/src/pages/products/editProductModal/index.js"],"names":["React","Modal","Form","Select","Input","Button","Spin","Alert","Row","Col","InputNumber","connect","productActions","styles","EditClientModal","state","price","props","productToEdit","handleCancel","e","preventDefault","dispatch","type","SET_STATE","payload","showEditModal","handleSubmit","form","validateFields","error","values","UPDATE_PRODUCT","onValueChange","input","floatValue","setState","amountError","amount","onQuantityChage","quantity","quantityError","loading","showErrorMessage","message","categories","getFieldDecorator","console","log","handleOk","initialValue","name","rules","required","mark","catId","option","children","toLowerCase","indexOf","v","map","item","id","unitPrice","description","footer","Component","mapStateToProps","products","WrappedClientModalForm","create"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Modal, Form, Select, Input, Button, Spin, Alert, Row, Col,InputNumber } from 'antd';\nimport { connect } from \"react-redux\"\nimport productActions from \"../../../redux/products/actions\"\nimport styles from \"./styles.module.scss\"\n\n\nclass EditClientModal extends React.Component {\n\n  state = {\n    price: this.props.productToEdit.price\n  }\n\n  handleCancel = e =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type:productActions.SET_STATE,\n      payload: {showEditModal: false, productToEdit:{}}\n    })\n  }\n\n  handleSubmit = e=>{\n    e.preventDefault()\n    const { form, dispatch,productToEdit } = this.props\n    form.validateFields((error, values) => {\n      if(!error){\n        dispatch({\n          type: productActions.UPDATE_PRODUCT,\n          payload: {productToEdit: {...productToEdit, ...values}}\n        })\n      }\n    })\n  }\n  onValueChange = input => {\n    if (input.floatValue) {\n      this.setState({ price: input.floatValue, amountError: false })\n      return\n    }\n    this.setState({ amount: false, amountError: true })\n  }\n\n  onQuantityChage = input =>{\n    if (input.floatValue) {\n      this.setState({ quantity: input.floatValue, quantityError: false })\n      return\n    }\n    this.setState({ quantity: false, quantityError: true })\n  }\n  render(){\n    const { showEditModal, productToEdit, loading, showErrorMessage, message, categories} = this.props\n    const { getFieldDecorator } = this.props.form;\n    console.log(\"productToEditproductToEditproductToEdit\");\n    return (\n      <Modal\n        title=\"Basic Modal\"\n        visible={showEditModal}\n        width={700}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        footer={null}\n        destroyOnClose={true}\n      >\n        <Spin spinning={loading} tip=\"Loading...\">\n        {showErrorMessage&&<Alert message={message} type=\"error\" banner />}\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item label=\"Le nom du produit\">\n              {getFieldDecorator('name', {\n                initialValue:productToEdit.name,\n                rules: [{ required: true, message: 'Le nom du produit Obligatoire.' }],\n              })(\n                <Input/>,\n              )}\n            </Form.Item>\n            <Form.Item label=\"La marque\">\n              {getFieldDecorator('mark', {\n                initialValue:productToEdit.mark,\n                rules: [\n                  { required: true, message: 'La marque Obligatoire!' },\n                ],\n              })(\n                <Input />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Catégorie\">\n              {getFieldDecorator(\n                'catId',\n                {\n                  initialValue:productToEdit.catId,\n                  rules: [{ required: true, message: 'La Catégorie du produit est obligatoire' }],},\n              )(\n                <Select\n                  showSearch\n                  filterOption={(input, option) => {\n                    return option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                  }}\n                  onSelect={v=>console.log(v)}\n                >\n                  {categories.map(item => {\n                    return (\n                      <Select.Option key={item.id} value={item.id}>\n                        {item.name}\n                      </Select.Option>\n                    )\n                  })}\n                </Select>,\n              )}\n            </Form.Item>\n            <Row type=\"flex\" justify=\"space-between\" align=\"middle\">\n                <Col\n                  xs={24}\n                  sm={24}\n                  lg={10}\n                >\n                  <Form.Item label=\"Prix d'unité\">\n                    {getFieldDecorator('unitPrice', {\n                      initialValue:productToEdit.unitPrice,\n                      rules: [\n                        { required: true, message: 'Prix d\\'unité Obligatoire!' },\n                      ],\n                    })(\n                      <InputNumber min={0} />,\n                    )}\n                  </Form.Item>\n                </Col>\n                <Col\n                  xs={24}\n                  sm={24}\n                  lg={10}\n                >\n                  <Form.Item label=\"Quantité\">\n                    {getFieldDecorator('quantity', {\n                      initialValue:productToEdit.quantity,\n                      rules: [\n                        { required: true, message: 'Quantité Obligatoire!' },\n                      ],\n                    })(\n                      <InputNumber min={0} />,\n                    )}\n                  </Form.Item>\n                </Col>\n            </Row>\n            <Form.Item label=\"Déscription\">\n              {getFieldDecorator('description', {\n                initialValue:productToEdit.description,\n              })(\n                <Input.TextArea rows={4} />,\n              )}\n            </Form.Item>\n            <div className={styles.footer}>\n              <div>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Valider\n                </Button>\n              </div>\n              <div>\n                <Button onClick={this.handleCancel}>Annuler</Button>\n              </div>\n            </div>\n          </Form>\n        </Spin>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.products\n}\n\nconst WrappedClientModalForm = Form.create({ name: 'edit_product_modal' })(EditClientModal);\n\nexport default connect(mapStateToProps)(WrappedClientModalForm)\n"]},"metadata":{},"sourceType":"module"}