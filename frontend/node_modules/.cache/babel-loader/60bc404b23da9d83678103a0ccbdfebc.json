{"ast":null,"code":"import _objectSpread from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Modal,Form,Icon,Input,Button,Spin,Alert}from'antd';import{connect}from\"react-redux\";import clientActions from\"../../../redux/clients/actions\";import{IdcardOutlined,PhoneOutlined}from'@ant-design/icons';import styles from\"./styles.module.scss\";var ClientModal=/*#__PURE__*/function(_React$Component){_inherits(ClientModal,_React$Component);var _super=_createSuper(ClientModal);function ClientModal(){var _this;_classCallCheck(this,ClientModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleCancel=function(e){e.preventDefault();_this.props.dispatch({type:clientActions.SET_STATE,payload:{showAddModal:false}});};_this.handleSubmit=function(e){e.preventDefault();var _this$props=_this.props,form=_this$props.form,dispatch=_this$props.dispatch;form.validateFields(function(error,values){if(!error){dispatch({type:clientActions.ADD_NEW_CLIENT,payload:{newClient:_objectSpread({},values)}});}});};return _this;}_createClass(ClientModal,[{key:\"render\",value:function render(){var showAddModal=this.props.showAddModal;var getFieldDecorator=this.props.form.getFieldDecorator;var _this$props2=this.props,loading=_this$props2.loading,showErrorMessage=_this$props2.showErrorMessage,message=_this$props2.message;return/*#__PURE__*/React.createElement(Modal,{title:\"Basic Modal\",visible:showAddModal,width:700,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,destroyOnClose:true},/*#__PURE__*/React.createElement(Spin,{spinning:loading,tip:\"Loading...\"},showErrorMessage&&/*#__PURE__*/React.createElement(Alert,{message:message,type:\"error\",banner:true}),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,className:\"login-form\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Nom complet\"},getFieldDecorator('fullName',{rules:[{required:true,message:'Nom complet Obligatoire!'}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"user\",style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"Email\"},getFieldDecorator('email',{rules:[{required:true,message:'Email Obligatoire!'},{type:'email',message:\"Cette adresse email n'est pas valide\"}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"user\",style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"CINE\"},getFieldDecorator('cine',{rules:[{required:true,message:'CINE Obligatoire!'}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(IdcardOutlined,{style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"T\\xE9l\\xE9phone\"},getFieldDecorator('tele',{rules:[{required:true,message:'Téléphone Obligatoire!'},{pattern:/^(?:(?:\\+|00)212|0)\\s*[1-9](?:[\\s.-]*\\d{2}){4}$/,message:\"Ce numéro de téléphone n'est pas valide\"}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(PhoneOutlined,{type:\"user\",style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(\"div\",{className:styles.footer},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Valider\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleCancel},\"Annuler\"))))));}}]);return ClientModal;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.clients;};var WrappedClientModalForm=Form.create({name:'add_client_modal'})(ClientModal);export default connect(mapStateToProps)(WrappedClientModalForm);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/clients/clientModal/index.js"],"names":["React","Modal","Form","Icon","Input","Button","Spin","Alert","connect","clientActions","IdcardOutlined","PhoneOutlined","styles","ClientModal","handleCancel","e","preventDefault","props","dispatch","type","SET_STATE","payload","showAddModal","handleSubmit","form","validateFields","error","values","ADD_NEW_CLIENT","newClient","getFieldDecorator","loading","showErrorMessage","message","handleOk","rules","required","color","pattern","footer","Component","mapStateToProps","state","clients","WrappedClientModalForm","create","name"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Modal, Form, Icon, Input, Button, Spin, Alert } from 'antd';\nimport { connect } from \"react-redux\"\nimport clientActions from \"../../../redux/clients/actions\"\nimport { IdcardOutlined, PhoneOutlined } from '@ant-design/icons';\nimport styles from \"./styles.module.scss\"\n\n\nclass ClientModal extends React.Component {\n\n  handleCancel = e =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type:clientActions.SET_STATE,\n      payload: {showAddModal: false}\n    })\n  }\n\n  handleSubmit = e=>{\n    e.preventDefault()\n    const { form, dispatch } = this.props\n    form.validateFields((error, values) => {\n      if(!error){\n        dispatch({\n          type: clientActions.ADD_NEW_CLIENT,\n          payload: {newClient:{...values}}\n        })\n      }\n    })\n  }\n  render(){\n    const { showAddModal} = this.props\n    const { getFieldDecorator } = this.props.form;\n    const {loading, showErrorMessage, message} = this.props\n    return (\n      <Modal\n        title=\"Basic Modal\"\n        visible={showAddModal}\n        width={700}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        footer={null}\n        destroyOnClose={true}\n      >\n        <Spin spinning={loading} tip=\"Loading...\">\n        {showErrorMessage&&<Alert message={message} type=\"error\" banner />}\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item label=\"Nom complet\">\n              {getFieldDecorator('fullName', {\n                rules: [{ required: true, message: 'Nom complet Obligatoire!' }],\n              })(\n                <Input\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Email\">\n              {getFieldDecorator('email', {\n                rules: [\n                  { required: true, message: 'Email Obligatoire!' },\n                  {\n                    type: 'email',\n                    message: \"Cette adresse email n'est pas valide\",\n                  },\n                ],\n              })(\n                <Input\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"CINE\">\n              {getFieldDecorator('cine', {\n                rules: [{ required: true, message: 'CINE Obligatoire!' }],\n              })(\n                <Input\n                  prefix={<IdcardOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Téléphone\">\n              {getFieldDecorator('tele', {\n                rules: [\n                    { required: true, message: 'Téléphone Obligatoire!' },\n                    {\n                      pattern:/^(?:(?:\\+|00)212|0)\\s*[1-9](?:[\\s.-]*\\d{2}){4}$/,\n                      message: \"Ce numéro de téléphone n'est pas valide\",\n                    }\n                  ],\n              })(\n                <Input\n                  prefix={<PhoneOutlined type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <div className={styles.footer}>\n              <div>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Valider\n                </Button>\n              </div>\n              <div>\n                <Button onClick={this.handleCancel}>Annuler</Button>\n              </div>\n            </div>\n          </Form>\n        </Spin>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.clients\n}\n\nconst WrappedClientModalForm = Form.create({ name: 'add_client_modal' })(ClientModal);\n\nexport default connect(mapStateToProps)(WrappedClientModalForm)\n"]},"metadata":{},"sourceType":"module"}