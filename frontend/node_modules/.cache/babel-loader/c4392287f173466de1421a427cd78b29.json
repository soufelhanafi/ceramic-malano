{"ast":null,"code":"var _jsxFileName = \"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/products/editProductModal/index.js\";\nimport React from \"react\";\nimport NumberFormat from 'react-number-format';\nimport { Modal, Form, Select, Input, Button, Spin, Alert, Row, Col, InputNumber } from 'antd';\nimport { connect } from \"react-redux\";\nimport productActions from \"../../../redux/products/actions\";\nimport styles from \"./styles.module.scss\";\n\nclass EditClientModal extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      price: this.props.productToEdit.price\n    };\n\n    this.handleCancel = e => {\n      e.preventDefault();\n      this.props.dispatch({\n        type: productActions.SET_STATE,\n        payload: {\n          showEditModal: false,\n          productToEdit: {}\n        }\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        form,\n        dispatch,\n        productToEdit\n      } = this.props;\n      form.validateFields((error, values) => {\n        if (!error) {\n          dispatch({\n            type: productActions.UPDATE_CLIENT,\n            payload: {\n              productToEdit: { ...productToEdit,\n                ...values\n              }\n            }\n          });\n        }\n      });\n    };\n\n    this.onValueChange = input => {\n      if (input.floatValue) {\n        this.setState({\n          price: input.floatValue,\n          amountError: false\n        });\n        return;\n      }\n\n      this.setState({\n        amount: false,\n        amountError: true\n      });\n    };\n\n    this.onQuantityChage = input => {\n      if (input.floatValue) {\n        this.setState({\n          quantity: input.floatValue,\n          quantityError: false\n        });\n        return;\n      }\n\n      this.setState({\n        quantity: false,\n        quantityError: true\n      });\n    };\n  }\n\n  render() {\n    const {\n      showEditModal,\n      productToEdit,\n      loading,\n      showErrorMessage,\n      message,\n      categories\n    } = this.props;\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    console.log(\"productToEditproductToEditproductToEdit\");\n    return /*#__PURE__*/React.createElement(Modal, {\n      title: \"Basic Modal\",\n      visible: showEditModal,\n      width: 700,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      footer: null,\n      destroyOnClose: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      spinning: loading,\n      tip: \"Loading...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, showErrorMessage && /*#__PURE__*/React.createElement(Alert, {\n      message: message,\n      type: \"error\",\n      banner: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Le nom du produit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('name', {\n      initalValue: productToEdit.name,\n      rules: [{\n        required: true,\n        message: 'Le nom du produit Obligatoire.'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"La marque\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('mark', {\n      initalValue: productToEdit.mark,\n      rules: [{\n        required: true,\n        message: 'La marque Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Cat\\xE9gorie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('catId', {\n      initalValue: productToEdit.catId,\n      rules: [{\n        required: true,\n        message: 'La Catégorie du produit est obligatoire'\n      }]\n    })( /*#__PURE__*/React.createElement(Select, {\n      showSearch: true,\n      filterOption: (input, option) => {\n        return option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n      },\n      onSelect: v => console.log(v),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, categories.map(item => {\n      return /*#__PURE__*/React.createElement(Select.Option, {\n        key: item.id,\n        value: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 23\n        }\n      }, item.name);\n    })))), /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      justify: \"space-between\",\n      align: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      lg: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Prix d'unit\\xE9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, getFieldDecorator('unitPrice', {\n      initalValue: productToEdit.unitPrice,\n      rules: [{\n        required: true,\n        message: 'Prix d\\'unité Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      min: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      lg: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Quantit\\xE9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, getFieldDecorator('quantity', {\n      initalValue: productToEdit.quantity,\n      rules: [{\n        required: true,\n        message: 'Quantité Obligatoire!'\n      }]\n    })( /*#__PURE__*/React.createElement(InputNumber, {\n      min: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }))))), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"D\\xE9scription\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('description', {\n      initalValue: productToEdit.description\n    })( /*#__PURE__*/React.createElement(Input.TextArea, {\n      rows: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.footer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, \"Valider\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, \"Annuler\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return state.products;\n};\n\nconst WrappedClientModalForm = Form.create({\n  name: 'edit_product_modal'\n})(EditClientModal);\nexport default connect(mapStateToProps)(WrappedClientModalForm);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/products/editProductModal/index.js"],"names":["React","NumberFormat","Modal","Form","Select","Input","Button","Spin","Alert","Row","Col","InputNumber","connect","productActions","styles","EditClientModal","Component","state","price","props","productToEdit","handleCancel","e","preventDefault","dispatch","type","SET_STATE","payload","showEditModal","handleSubmit","form","validateFields","error","values","UPDATE_CLIENT","onValueChange","input","floatValue","setState","amountError","amount","onQuantityChage","quantity","quantityError","render","loading","showErrorMessage","message","categories","getFieldDecorator","console","log","handleOk","initalValue","name","rules","required","mark","catId","option","children","toLowerCase","indexOf","v","map","item","id","unitPrice","description","footer","mapStateToProps","products","WrappedClientModalForm","create"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport NumberFormat from 'react-number-format'\nimport { Modal, Form, Select, Input, Button, Spin, Alert, Row, Col,InputNumber } from 'antd';\nimport { connect } from \"react-redux\"\nimport productActions from \"../../../redux/products/actions\"\nimport styles from \"./styles.module.scss\"\n\n\nclass EditClientModal extends React.Component {\n\n  state = {\n    price: this.props.productToEdit.price\n  }\n\n  handleCancel = e =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type:productActions.SET_STATE,\n      payload: {showEditModal: false, productToEdit:{}}\n    })\n  }\n\n  handleSubmit = e=>{\n    e.preventDefault()\n    const { form, dispatch,productToEdit } = this.props\n    form.validateFields((error, values) => {\n      if(!error){\n        dispatch({\n          type: productActions.UPDATE_CLIENT,\n          payload: {productToEdit: {...productToEdit, ...values}}\n        })\n      }\n    })\n  }\n  onValueChange = input => {\n    if (input.floatValue) {\n      this.setState({ price: input.floatValue, amountError: false })\n      return\n    }\n    this.setState({ amount: false, amountError: true })\n  }\n\n  onQuantityChage = input =>{\n    if (input.floatValue) {\n      this.setState({ quantity: input.floatValue, quantityError: false })\n      return\n    }\n    this.setState({ quantity: false, quantityError: true })\n  }\n  render(){\n    const { showEditModal, productToEdit, loading, showErrorMessage, message, categories} = this.props\n    const { getFieldDecorator } = this.props.form;\n    console.log(\"productToEditproductToEditproductToEdit\");\n    return (\n      <Modal\n        title=\"Basic Modal\"\n        visible={showEditModal}\n        width={700}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        footer={null}\n        destroyOnClose={true}\n      >\n        <Spin spinning={loading} tip=\"Loading...\">\n        {showErrorMessage&&<Alert message={message} type=\"error\" banner />}\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item label=\"Le nom du produit\">\n              {getFieldDecorator('name', {\n                initalValue:productToEdit.name,\n                rules: [{ required: true, message: 'Le nom du produit Obligatoire.' }],\n              })(\n                <Input/>,\n              )}\n            </Form.Item>\n            <Form.Item label=\"La marque\">\n              {getFieldDecorator('mark', {\n                initalValue:productToEdit.mark,\n                rules: [\n                  { required: true, message: 'La marque Obligatoire!' },\n                ],\n              })(\n                <Input />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Catégorie\">\n              {getFieldDecorator(\n                'catId',\n                {\n                  initalValue:productToEdit.catId,\n                  rules: [{ required: true, message: 'La Catégorie du produit est obligatoire' }],},\n              )(\n                <Select\n                  showSearch\n                  filterOption={(input, option) => {\n                    return option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                  }}\n                  onSelect={v=>console.log(v)}\n                >\n                  {categories.map(item => {\n                    return (\n                      <Select.Option key={item.id} value={item.id}>\n                        {item.name}\n                      </Select.Option>\n                    )\n                  })}\n                </Select>,\n              )}\n            </Form.Item>\n            <Row type=\"flex\" justify=\"space-between\" align=\"middle\">\n                <Col\n                  xs={24}\n                  sm={24}\n                  lg={10}\n                >\n                  <Form.Item label=\"Prix d'unité\">\n                    {getFieldDecorator('unitPrice', {\n                      initalValue:productToEdit.unitPrice,\n                      rules: [\n                        { required: true, message: 'Prix d\\'unité Obligatoire!' },\n                      ],\n                    })(\n                      <InputNumber min={0} />,\n                    )}\n                  </Form.Item>\n                </Col>\n                <Col\n                  xs={24}\n                  sm={24}\n                  lg={10}\n                >\n                  <Form.Item label=\"Quantité\">\n                    {getFieldDecorator('quantity', {\n                      initalValue:productToEdit.quantity,\n                      rules: [\n                        { required: true, message: 'Quantité Obligatoire!' },\n                      ],\n                    })(\n                      <InputNumber min={0} />,\n                    )}\n                  </Form.Item>\n                </Col>\n            </Row>\n            <Form.Item label=\"Déscription\">\n              {getFieldDecorator('description', {\n                initalValue:productToEdit.description,\n              })(\n                <Input.TextArea rows={4} />,\n              )}\n            </Form.Item>\n            <div className={styles.footer}>\n              <div>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Valider\n                </Button>\n              </div>\n              <div>\n                <Button onClick={this.handleCancel}>Annuler</Button>\n              </div>\n            </div>\n          </Form>\n        </Spin>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.products\n}\n\nconst WrappedClientModalForm = Form.create({ name: 'edit_product_modal' })(EditClientModal);\n\nexport default connect(mapStateToProps)(WrappedClientModalForm)\n"]},"metadata":{},"sourceType":"module"}