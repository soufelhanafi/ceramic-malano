{"ast":null,"code":"import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{Table,Button}from\"antd\";import purchaseActions from\"../../../redux/purchase/actions\";import styles from\"./styles.module.scss\";var PurchasesList=/*#__PURE__*/function(_React$Component){_inherits(PurchasesList,_React$Component);var _super=_createSuper(PurchasesList);function PurchasesList(){var _this;_classCallCheck(this,PurchasesList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.columns=[{title:'Référence',dataIndex:'reference',key:'reference',sorter:true},{title:'Produit',dataIndex:'productName',key:'productName',sorter:true},{title:'Client',dataIndex:'clientName',key:'clientName',sorter:true},{title:'CINE',dataIndex:'cine',key:'cine',sorter:true},{title:'Montant Total',dataIndex:'totalPrice',key:'totalPrice',sorter:true,render:function render(text){return/*#__PURE__*/React.createElement(\"span\",null,Number(text).toLocaleString('fr-FR',{minimumFractionDigits:2}),\"dhs\");}},{title:'Action',key:'Action',width:200,render:function render(record){return/*#__PURE__*/React.createElement(\"div\",{className:styles.actionsContainer},/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_edit,onClick:function onClick(e){return _this.showEditModal(e,record);}},\"Editer\"),/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_delete,onClick:function onClick(e){return _this.showDeleteModal(e,record);}},\"Supprimer\"));}}];_this.showEditModal=function(e,record){e.preventDefault();_this.props.dispatch({type:purchaseActions.SET_STATE,payload:{showEditModal:true,purchaseToEdit:record}});};_this.showDeleteModal=function(e,record){e.preventDefault();_this.props.dispatch({type:purchaseActions.SET_STATE,payload:{showDeleteModal:true,purchaseToDelete:record}});};_this.handleTableChange=function(pagination,filters,sorter){var order=sorter.order?sorter.order.includes(\"asc\")?\"asc\":\"desc\":null;var sort=sorter.column?sorter.field:null;_this.props.dispatch({type:purchaseActions.LOAD_CLIENTS,payload:{size:pagination.pageSize,page:pagination.current,sort:sort,order:order}});};return _this;}_createClass(PurchasesList,[{key:\"render\",value:function render(){var _this$props=this.props,purchases=_this$props.purchases,page=_this$props.page,totalElements=_this$props.totalElements,size=_this$props.size;return/*#__PURE__*/React.createElement(Table,{columns:this.columns,dataSource:purchases,onChange:this.handleTableChange,pagination:{current:parseInt(page),total:parseInt(totalElements),pageSize:parseInt(size)}});}}]);return PurchasesList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.purchases;};export default connect(mapStateToProps)(PurchasesList);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/src/pages/purchase/purchasesList/index.js"],"names":["React","connect","Table","Button","purchaseActions","styles","PurchasesList","columns","title","dataIndex","key","sorter","render","text","Number","toLocaleString","minimumFractionDigits","width","record","actionsContainer","actionsContainer_edit","e","showEditModal","actionsContainer_delete","showDeleteModal","preventDefault","props","dispatch","type","SET_STATE","payload","purchaseToEdit","purchaseToDelete","handleTableChange","pagination","filters","order","includes","sort","column","field","LOAD_CLIENTS","size","pageSize","page","current","purchases","totalElements","parseInt","total","Component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Table, Button } from \"antd\"\nimport purchaseActions from \"../../../redux/purchase/actions\"\nimport styles from \"./styles.module.scss\"\n\nclass PurchasesList extends React.Component {\n\n  columns = [\n    {\n    title: 'Référence',\n    dataIndex: 'reference',\n    key: 'reference',\n    sorter: true\n  },\n    {\n    title: 'Produit',\n    dataIndex: 'productName',\n    key: 'productName',\n    sorter: true\n  },\n  {\n    title: 'Client',\n    dataIndex: 'clientName',\n    key: 'clientName',\n    sorter: true\n  },\n  {\n    title: 'CINE',\n    dataIndex: 'cine',\n    key: 'cine',\n    sorter: true\n  },{\n    title: 'Montant Total',\n    dataIndex: 'totalPrice',\n    key: 'totalPrice',\n    sorter: true,\n    render: text=>\n        (<span>\n          {Number(text).toLocaleString('fr-FR', {\n              minimumFractionDigits: 2,\n            })}\n            dhs\n        </span>)\n  },\n  {\n    title: 'Action',\n    key: 'Action',\n    width: 200,\n    render: (record)=>\n        (\n          <div className={styles.actionsContainer}>\n            <span className={styles.actionsContainer_edit} onClick={(e)=> this.showEditModal(e, record)}>Editer</span>\n            <span className={styles.actionsContainer_delete} onClick={(e)=> this.showDeleteModal(e, record)}>Supprimer</span>\n          </div>\n        )\n  },\n  ]\n\n  showEditModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: purchaseActions.SET_STATE,\n      payload: { showEditModal: true, purchaseToEdit:record }\n    })\n  }\n\n  showDeleteModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: purchaseActions.SET_STATE,\n      payload: { showDeleteModal: true, purchaseToDelete:record }\n    })\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    const order = sorter.order ? sorter.order.includes(\"asc\")?\"asc\":\"desc\" : null\n    const sort = sorter.column?sorter.field:null\n    this.props.dispatch({\n      type: purchaseActions.LOAD_CLIENTS,\n      payload:{size:pagination.pageSize, page: pagination.current, sort, order}\n    })\n  }\n\n\n  render(){\n    const {purchases, page, totalElements, size} = this.props\n    return(\n          <Table\n            columns={this.columns}\n            dataSource={purchases}\n            onChange={this.handleTableChange}\n            pagination={{\n                  current: parseInt(page),\n                  total: parseInt(totalElements),\n                  pageSize: parseInt(size),\n                }}\n           />\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.purchases\n}\n\nexport default connect(mapStateToProps)(PurchasesList)\n"]},"metadata":{},"sourceType":"module"}