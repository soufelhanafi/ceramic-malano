{"ast":null,"code":"import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{Table,Button}from\"antd\";import productActions from\"../../../redux/products/actions\";import styles from\"./styles.module.scss\";var ProductsList=/*#__PURE__*/function(_React$Component){_inherits(ProductsList,_React$Component);var _super=_createSuper(ProductsList);function ProductsList(){var _this;_classCallCheck(this,ProductsList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.columns=[{title:'Nom du produit',dataIndex:'name',key:'name',sorter:true},{title:'La marque',dataIndex:'mark',key:'mark',sorter:true},{title:'Quantité',dataIndex:'quantity',key:'quantity',sorter:true,render:function render(text){return/*#__PURE__*/React.createElement(\"span\",null,Number(text).toLocaleString('fr-FR'));}},{title:'Prix d\\'unité',dataIndex:'unitPrice',key:'unitPrice',sorter:true,render:function render(text){return/*#__PURE__*/React.createElement(\"span\",null,Number(text).toLocaleString('fr-FR',{minimumFractionDigits:2}),\"dhs\");}},{title:'Action',key:'Action',width:200,render:function render(record){return/*#__PURE__*/React.createElement(\"div\",{className:styles.actionsContainer},/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_edit,onClick:function onClick(e){return _this.showEditModal(e,record);}},\"Editer\"),/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_delete,onClick:function onClick(e){return _this.showDeleteModal(e,record);}},\"Supprimer\"));}}];_this.showEditModal=function(e,record){e.preventDefault();_this.props.dispatch({type:productActions.SET_STATE,payload:{showEditModal:true,productToEdit:record}});};_this.showDeleteModal=function(e,record){e.preventDefault();_this.props.dispatch({type:productActions.SET_STATE,payload:{showDeleteModal:true,productToDelete:record}});};_this.handleTableChange=function(pagination,filters,sorter){var order=sorter.order?sorter.order.includes(\"asc\")?\"asc\":\"desc\":null;var sort=sorter.column?sorter.field:null;_this.props.dispatch({type:productActions.LOAD_PRODUCTS,payload:{size:pagination.pageSize,page:pagination.current,sort:sort,order:order}});};return _this;}_createClass(ProductsList,[{key:\"render\",value:function render(){var _this$props=this.props,products=_this$props.products,page=_this$props.page,totalElements=_this$props.totalElements,size=_this$props.size;return/*#__PURE__*/React.createElement(Table,{columns:this.columns,dataSource:products,onChange:this.handleTableChange,pagination:{current:parseInt(page),total:parseInt(totalElements),pageSize:parseInt(size)}});}}]);return ProductsList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.products;};export default connect(mapStateToProps)(ProductsList);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/src/pages/products/productsList/index.js"],"names":["React","connect","Table","Button","productActions","styles","ProductsList","columns","title","dataIndex","key","sorter","render","text","Number","toLocaleString","minimumFractionDigits","width","record","actionsContainer","actionsContainer_edit","e","showEditModal","actionsContainer_delete","showDeleteModal","preventDefault","props","dispatch","type","SET_STATE","payload","productToEdit","productToDelete","handleTableChange","pagination","filters","order","includes","sort","column","field","LOAD_PRODUCTS","size","pageSize","page","current","products","totalElements","parseInt","total","Component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Table, Button } from \"antd\"\nimport productActions from \"../../../redux/products/actions\"\nimport styles from \"./styles.module.scss\"\n\nclass ProductsList extends React.Component {\n\n  columns = [\n    {\n    title: 'Nom du produit',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: true\n  },\n  {\n    title: 'La marque',\n    dataIndex: 'mark',\n    key: 'mark',\n    sorter: true\n  },\n  {\n    title: 'Quantité',\n    dataIndex: 'quantity',\n    key: 'quantity',\n    sorter: true,\n    render: text=>\n    (<span>\n      {Number(text).toLocaleString('fr-FR')}\n    </span>)\n  },{\n    title: 'Prix d\\'unité',\n    dataIndex: 'unitPrice',\n    key: 'unitPrice',\n    sorter: true,\n    render: text=>\n    (<span>\n      {Number(text).toLocaleString('fr-FR', {\n          minimumFractionDigits: 2,\n        })}\n        dhs\n    </span>)\n  },\n  {\n    title: 'Action',\n    key: 'Action',\n    width: 200,\n    render: (record)=>\n        (\n          <div className={styles.actionsContainer}>\n            <span className={styles.actionsContainer_edit} onClick={(e)=> this.showEditModal(e, record)}>Editer</span>\n            <span className={styles.actionsContainer_delete} onClick={(e)=> this.showDeleteModal(e, record)}>Supprimer</span>\n          </div>\n        )\n  },\n  ]\n\n  showEditModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: productActions.SET_STATE,\n      payload: { showEditModal: true, productToEdit:record }\n    })\n  }\n\n  showDeleteModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: productActions.SET_STATE,\n      payload: { showDeleteModal: true, productToDelete: record }\n    })\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    const order = sorter.order ? (sorter.order.includes(\"asc\")?\"asc\":\"desc\") : null\n    const sort = sorter.column?sorter.field:null\n    this.props.dispatch({\n      type: productActions.LOAD_PRODUCTS,\n      payload:{size:pagination.pageSize, page: pagination.current, sort, order}\n    })\n  }\n\n\n  render(){\n    const {products, page, totalElements, size} = this.props\n\n    return(\n          <Table\n            columns={this.columns}\n            dataSource={products}\n            onChange={this.handleTableChange}\n            pagination={{\n                  current: parseInt(page),\n                  total: parseInt(totalElements),\n                  pageSize: parseInt(size),\n                }}\n           />\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.products\n}\n\nexport default connect(mapStateToProps)(ProductsList)\n"]},"metadata":{},"sourceType":"module"}