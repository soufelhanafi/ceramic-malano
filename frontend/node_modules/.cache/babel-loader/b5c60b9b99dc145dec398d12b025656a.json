{"ast":null,"code":"var _jsxFileName = \"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/products/productsList/index.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Table, Button } from \"antd\";\nimport productActions from \"../../../redux/products/actions\";\nimport styles from \"./styles.module.scss\";\n\nclass ProductsList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.columns = [{\n      title: 'Nom du produit',\n      dataIndex: 'name',\n      key: 'name',\n      sorter: true\n    }, {\n      title: 'La marque',\n      dataIndex: 'mark',\n      key: 'mark',\n      sorter: true\n    }, {\n      title: 'Quantité',\n      dataIndex: 'quantity',\n      key: 'quantity',\n      sorter: true,\n      render: text => /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 6\n        }\n      }, Number(text).toLocaleString('fr-FR'))\n    }, {\n      title: 'Prix d\\'unité',\n      dataIndex: 'unitPrice',\n      key: 'unitPrice',\n      sorter: true,\n      render: text => /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 6\n        }\n      }, Number(text).toLocaleString('fr-FR', {\n        minimumFractionDigits: 2\n      }), \"dhs\")\n    }, {\n      title: 'Action',\n      key: 'Action',\n      width: 200,\n      render: record => /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.actionsContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.actionsContainer_edit,\n        onClick: e => this.showEditModal(e, record),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, \"Editer\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.actionsContainer_delete,\n        onClick: e => this.showDeleteModal(e, record),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, \"Supprimer\"))\n    }];\n\n    this.showEditModal = (e, record) => {\n      e.preventDefault();\n      this.props.dispatch({\n        type: productActions.SET_STATE,\n        payload: {\n          showEditModal: true,\n          productToEdit: record\n        }\n      });\n    };\n\n    this.showDeleteModal = (e, record) => {\n      e.preventDefault();\n      this.props.dispatch({\n        type: productActions.SET_STATE,\n        payload: {\n          showDeleteModal: true,\n          productToDelete: record\n        }\n      });\n    };\n\n    this.handleTableChange = (pagination, filters, sorter) => {\n      debugger;\n      const order = sorter.order ? sorter.order.substring(0, 3) : null;\n      const sort = sorter.column ? sorter.field : null;\n      this.props.dispatch({\n        type: productActions.LOAD_PRODUCTS,\n        payload: {\n          size: pagination.pageSize,\n          page: pagination.current,\n          sort,\n          order\n        }\n      });\n    };\n  }\n\n  render() {\n    const {\n      products,\n      page,\n      totalElements,\n      size\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Table, {\n      columns: this.columns,\n      dataSource: products,\n      onChange: this.handleTableChange,\n      pagination: {\n        current: parseInt(page),\n        total: parseInt(totalElements),\n        pageSize: parseInt(size)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return state.products;\n};\n\nexport default connect(mapStateToProps)(ProductsList);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/products/productsList/index.js"],"names":["React","connect","Table","Button","productActions","styles","ProductsList","Component","columns","title","dataIndex","key","sorter","render","text","Number","toLocaleString","minimumFractionDigits","width","record","actionsContainer","actionsContainer_edit","e","showEditModal","actionsContainer_delete","showDeleteModal","preventDefault","props","dispatch","type","SET_STATE","payload","productToEdit","productToDelete","handleTableChange","pagination","filters","order","substring","sort","column","field","LOAD_PRODUCTS","size","pageSize","page","current","products","totalElements","parseInt","total","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Table, Button } from \"antd\"\nimport productActions from \"../../../redux/products/actions\"\nimport styles from \"./styles.module.scss\"\n\nclass ProductsList extends React.Component {\n\n  columns = [\n    {\n    title: 'Nom du produit',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: true\n  },\n  {\n    title: 'La marque',\n    dataIndex: 'mark',\n    key: 'mark',\n    sorter: true\n  },\n  {\n    title: 'Quantité',\n    dataIndex: 'quantity',\n    key: 'quantity',\n    sorter: true,\n    render: text=>\n    (<span>\n      {Number(text).toLocaleString('fr-FR')}\n    </span>)\n  },{\n    title: 'Prix d\\'unité',\n    dataIndex: 'unitPrice',\n    key: 'unitPrice',\n    sorter: true,\n    render: text=>\n    (<span>\n      {Number(text).toLocaleString('fr-FR', {\n          minimumFractionDigits: 2,\n        })}\n        dhs\n    </span>)\n  },\n  {\n    title: 'Action',\n    key: 'Action',\n    width: 200,\n    render: (record)=>\n        (\n          <div className={styles.actionsContainer}>\n            <span className={styles.actionsContainer_edit} onClick={(e)=> this.showEditModal(e, record)}>Editer</span>\n            <span className={styles.actionsContainer_delete} onClick={(e)=> this.showDeleteModal(e, record)}>Supprimer</span>\n          </div>\n        )\n  },\n  ]\n\n  showEditModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: productActions.SET_STATE,\n      payload: { showEditModal: true, productToEdit:record }\n    })\n  }\n\n  showDeleteModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: productActions.SET_STATE,\n      payload: { showDeleteModal: true, productToDelete:record }\n    })\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    debugger\n    const order = sorter.order ? sorter.order.substring(0,3) : null\n    const sort = sorter.column?sorter.field:null\n    this.props.dispatch({\n      type: productActions.LOAD_PRODUCTS,\n      payload:{size:pagination.pageSize, page: pagination.current, sort, order}\n    })\n  }\n\n\n  render(){\n    const {products, page, totalElements, size} = this.props\n\n    return(\n          <Table\n            columns={this.columns}\n            dataSource={products}\n            onChange={this.handleTableChange}\n            pagination={{\n                  current: parseInt(page),\n                  total: parseInt(totalElements),\n                  pageSize: parseInt(size),\n                }}\n           />\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.products\n}\n\nexport default connect(mapStateToProps)(ProductsList)\n"]},"metadata":{},"sourceType":"module"}