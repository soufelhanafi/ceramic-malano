{"ast":null,"code":"import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{Table,Button}from\"antd\";import clientActions from\"../../../redux/clients/actions\";import styles from\"./styles.module.scss\";var ClientsList=/*#__PURE__*/function(_React$Component){_inherits(ClientsList,_React$Component);var _super=_createSuper(ClientsList);function ClientsList(){var _this;_classCallCheck(this,ClientsList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.columns=[{title:'Nom Complet',dataIndex:'fullName',key:'fullName',sorter:true},{title:'Email',dataIndex:'email',key:'email',sorter:true},{title:'CINE',dataIndex:'cine',key:'cine',sorter:true},{title:'Télé',dataIndex:'tele',key:'tele',sorter:true},{title:'Reste',dataIndex:'totalToPay',key:'totalToPay',sorter:true,render:function render(text){return/*#__PURE__*/React.createElement(\"span\",null,Number(text).toLocaleString('fr-FR',{minimumFractionDigits:2}),\"dhs\");}},{title:'Action',key:'Action',width:230,render:function render(record){return/*#__PURE__*/React.createElement(\"div\",{className:styles.actionsContainer},/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_edit,onClick:function onClick(e){return _this.showEditModal(e,record);}},\"Editer\"),/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_delete,onClick:function onClick(e){return _this.showDeleteModal(e,record);}},\"Supprimer\"),/*#__PURE__*/React.createElement(\"span\",{className:styles.actionsContainer_purchase,onClick:function onClick(e){return _this.showPurchaseModal(e,record);}},\"Achat\"));}}];_this.showEditModal=function(e,record){e.preventDefault();_this.props.dispatch({type:clientActions.SET_STATE,payload:{showEditModal:true,clientToEdit:record}});};_this.showDeleteModal=function(e,record){e.preventDefault();_this.props.dispatch({type:clientActions.SET_STATE,payload:{showDeleteModal:true,clientToDelete:record}});};_this.showPurchaseModal=function(e,record){e.preventDefault();console.log(record);};_this.handleTableChange=function(pagination,filters,sorter){var order=sorter.order?sorter.order.includes(\"asc\")?\"asc\":\"desc\":null;var sort=sorter.column?sorter.field:null;_this.props.dispatch({type:clientActions.LOAD_CLIENTS,payload:{size:pagination.pageSize,page:pagination.current,sort:sort,order:order}});};return _this;}_createClass(ClientsList,[{key:\"render\",value:function render(){var _this$props=this.props,clients=_this$props.clients,page=_this$props.page,totalElements=_this$props.totalElements,size=_this$props.size;return/*#__PURE__*/React.createElement(Table,{columns:this.columns,dataSource:clients,onChange:this.handleTableChange,pagination:{current:parseInt(page),total:parseInt(totalElements),pageSize:parseInt(size)}});}}]);return ClientsList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.clients;};export default connect(mapStateToProps)(ClientsList);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/src/pages/clients/clientsList/index.js"],"names":["React","connect","Table","Button","clientActions","styles","ClientsList","columns","title","dataIndex","key","sorter","render","text","Number","toLocaleString","minimumFractionDigits","width","record","actionsContainer","actionsContainer_edit","e","showEditModal","actionsContainer_delete","showDeleteModal","actionsContainer_purchase","showPurchaseModal","preventDefault","props","dispatch","type","SET_STATE","payload","clientToEdit","clientToDelete","console","log","handleTableChange","pagination","filters","order","includes","sort","column","field","LOAD_CLIENTS","size","pageSize","page","current","clients","totalElements","parseInt","total","Component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Table, Button } from \"antd\"\nimport clientActions from \"../../../redux/clients/actions\"\nimport styles from \"./styles.module.scss\"\n\nclass ClientsList extends React.Component {\n\n  columns = [\n    {\n    title: 'Nom Complet',\n    dataIndex: 'fullName',\n    key: 'fullName',\n    sorter: true\n  },\n  {\n    title: 'Email',\n    dataIndex: 'email',\n    key: 'email',\n    sorter: true\n  },\n  {\n    title: 'CINE',\n    dataIndex: 'cine',\n    key: 'cine',\n    sorter: true\n  },{\n    title: 'Télé',\n    dataIndex: 'tele',\n    key: 'tele',\n    sorter: true\n  },{\n    title: 'Reste',\n    dataIndex: 'totalToPay',\n    key: 'totalToPay',\n    sorter: true,\n    render: text=>\n        (<span>\n          {Number(text).toLocaleString('fr-FR', {\n              minimumFractionDigits: 2,\n            })}\n            dhs\n        </span>)\n  },\n  {\n    title: 'Action',\n    key: 'Action',\n    width: 230,\n    render: (record)=>\n        (\n          <div className={styles.actionsContainer}>\n            <span className={styles.actionsContainer_edit} onClick={(e)=> this.showEditModal(e, record)}>Editer</span>\n            <span className={styles.actionsContainer_delete} onClick={(e)=> this.showDeleteModal(e, record)}>Supprimer</span>\n            <span className={styles.actionsContainer_purchase} onClick={(e)=> this.showPurchaseModal(e, record)}>Achat</span>\n          </div>\n        )\n  },\n  ]\n\n  showEditModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: clientActions.SET_STATE,\n      payload: { showEditModal: true, clientToEdit:record }\n    })\n  }\n\n  showDeleteModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: clientActions.SET_STATE,\n      payload: { showDeleteModal: true, clientToDelete:record }\n    })\n  }\n\n  showPurchaseModal = (e, record) => {\n    e.preventDefault()\n    console.log(record);\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    const order = sorter.order ? sorter.order.includes(\"asc\")?\"asc\":\"desc\" : null\n    const sort = sorter.column?sorter.field:null\n    this.props.dispatch({\n      type: clientActions.LOAD_CLIENTS,\n      payload:{size:pagination.pageSize, page: pagination.current, sort, order}\n    })\n  }\n\n\n  render(){\n    const {clients, page, totalElements, size} = this.props\n    return(\n          <Table\n            columns={this.columns}\n            dataSource={clients}\n            onChange={this.handleTableChange}\n            pagination={{\n                  current: parseInt(page),\n                  total: parseInt(totalElements),\n                  pageSize: parseInt(size),\n                }}\n           />\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.clients\n}\n\nexport default connect(mapStateToProps)(ClientsList)\n"]},"metadata":{},"sourceType":"module"}