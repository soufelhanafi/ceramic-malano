{"ast":null,"code":"import _objectSpread from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Modal,Form,Icon,Input,Button,Spin,Alert}from'antd';import{connect}from\"react-redux\";import clientActions from\"../../../redux/clients/actions\";import{IdcardOutlined,PhoneOutlined}from'@ant-design/icons';import styles from\"./styles.module.scss\";var EditClientModal=/*#__PURE__*/function(_React$Component){_inherits(EditClientModal,_React$Component);var _super=_createSuper(EditClientModal);function EditClientModal(){var _this;_classCallCheck(this,EditClientModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleCancel=function(e){e.preventDefault();_this.props.dispatch({type:clientActions.SET_STATE,payload:{showEditModal:false,clientToEdit:{}}});};_this.handleSubmit=function(e){e.preventDefault();var _this$props=_this.props,form=_this$props.form,dispatch=_this$props.dispatch,clientToEdit=_this$props.clientToEdit;form.validateFields(function(error,values){if(!error){dispatch({type:clientActions.UPDATE_CLIENT,payload:{clientToEdit:_objectSpread(_objectSpread({},clientToEdit),values)}});}});};return _this;}_createClass(EditClientModal,[{key:\"render\",value:function render(){var _this$props2=this.props,showEditModal=_this$props2.showEditModal,clientToEdit=_this$props2.clientToEdit;var getFieldDecorator=this.props.form.getFieldDecorator;var _this$props3=this.props,loading=_this$props3.loading,showErrorMessage=_this$props3.showErrorMessage,message=_this$props3.message;return/*#__PURE__*/React.createElement(Modal,{title:\"Basic Modal\",visible:showEditModal,width:700,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,destroyOnClose:true},/*#__PURE__*/React.createElement(Spin,{spinning:loading,tip:\"Loading...\"},showErrorMessage&&/*#__PURE__*/React.createElement(Alert,{message:message,type:\"error\",banner:true}),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,className:\"login-form\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Nom complet\"},getFieldDecorator('fullName',{initialValue:clientToEdit.fullName,rules:[{required:true,message:'Nom complet Obligatoire!'}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"user\",style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"Email\"},getFieldDecorator('email',{initialValue:clientToEdit.email,rules:[{required:true,message:'Email Obligatoire!'},{type:'email',message:\"Cette adresse email n'est pas valide\"}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"user\",style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"CINE\"},getFieldDecorator('cine',{initialValue:clientToEdit.cine,rules:[{required:true,message:'CINE Obligatoire!'}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(IdcardOutlined,{style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"T\\xE9l\\xE9phone\"},getFieldDecorator('tele',{initialValue:clientToEdit.tele,rules:[{required:true,message:'Téléphone Obligatoire!'},{pattern:/^(?:(?:\\+|00)212|0)\\s*[1-9](?:[\\s.-]*\\d{2}){4}$/,message:\"Ce numéro de téléphone n'est pas valide\"}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(PhoneOutlined,{style:{color:'rgba(0,0,0,.25)'}})}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"Reste \\xE0 payer\"},getFieldDecorator('totalToPay',{initialValue:clientToEdit.totalToPay,rules:[{required:true,message:'Le reste à payer Obligatoire!'}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"dollar\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:styles.footer},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Confirmer\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleCancel},\"Annuler\"))))));}}]);return EditClientModal;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.clients;};var WrappedClientModalForm=Form.create({name:'edit_client_modal'})(EditClientModal);export default connect(mapStateToProps)(WrappedClientModalForm);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/clients/editClientModal/index.js"],"names":["React","Modal","Form","Icon","Input","Button","Spin","Alert","connect","clientActions","IdcardOutlined","PhoneOutlined","styles","EditClientModal","handleCancel","e","preventDefault","props","dispatch","type","SET_STATE","payload","showEditModal","clientToEdit","handleSubmit","form","validateFields","error","values","UPDATE_CLIENT","getFieldDecorator","loading","showErrorMessage","message","handleOk","initialValue","fullName","rules","required","color","email","cine","tele","pattern","totalToPay","footer","Component","mapStateToProps","state","clients","WrappedClientModalForm","create","name"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Modal, Form, Icon, Input, Button, Spin, Alert } from 'antd';\nimport { connect } from \"react-redux\"\nimport clientActions from \"../../../redux/clients/actions\"\nimport { IdcardOutlined, PhoneOutlined } from '@ant-design/icons';\nimport styles from \"./styles.module.scss\"\n\n\nclass EditClientModal extends React.Component {\n\n  handleCancel = e =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type:clientActions.SET_STATE,\n      payload: {showEditModal: false, clientToEdit:{}}\n    })\n  }\n\n  handleSubmit = e=>{\n    e.preventDefault()\n    const { form, dispatch,clientToEdit } = this.props\n    form.validateFields((error, values) => {\n      if(!error){\n        dispatch({\n          type: clientActions.UPDATE_CLIENT,\n          payload: {clientToEdit: {...clientToEdit, ...values}}\n        })\n      }\n    })\n  }\n  render(){\n    const { showEditModal, clientToEdit} = this.props\n    const { getFieldDecorator } = this.props.form;\n    const {loading, showErrorMessage, message} = this.props\n    return (\n      <Modal\n        title=\"Basic Modal\"\n        visible={showEditModal}\n        width={700}\n        onOk={this.handleOk}\n        onCancel={this.handleCancel}\n        footer={null}\n        destroyOnClose={true}\n      >\n        <Spin spinning={loading} tip=\"Loading...\">\n        {showErrorMessage&&<Alert message={message} type=\"error\" banner />}\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item label=\"Nom complet\">\n              {getFieldDecorator('fullName', {\n                initialValue:clientToEdit.fullName,\n                rules: [{ required: true, message: 'Nom complet Obligatoire!' }],\n              })(\n                <Input\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Email\">\n              {getFieldDecorator('email', {\n                initialValue:clientToEdit.email,\n                rules: [\n                  { required: true, message: 'Email Obligatoire!' },\n                  {\n                    type: 'email',\n                    message: \"Cette adresse email n'est pas valide\",\n                  },\n                ],\n              })(\n                <Input\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"CINE\">\n              {getFieldDecorator('cine', {\n                initialValue:clientToEdit.cine,\n                rules: [{ required: true, message: 'CINE Obligatoire!' }],\n              })(\n                <Input\n                  prefix={<IdcardOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Téléphone\">\n              {getFieldDecorator('tele', {\n                initialValue:clientToEdit.tele,\n                rules: [\n                    { required: true, message: 'Téléphone Obligatoire!' },\n                    {\n                      pattern:/^(?:(?:\\+|00)212|0)\\s*[1-9](?:[\\s.-]*\\d{2}){4}$/,\n                      message: \"Ce numéro de téléphone n'est pas valide\",\n                    }\n                  ],\n              })(\n                <Input\n                  prefix={<PhoneOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                />,\n              )}\n            </Form.Item>\n            <Form.Item label=\"Reste à payer\">\n              {getFieldDecorator('totalToPay', {\n                initialValue:clientToEdit.totalToPay,\n                rules: [\n                    { required: true, message: 'Le reste à payer Obligatoire!' },\n                  ],\n              })(\n                <Input\n                  prefix={<Icon type=\"dollar\" />}\n                />,\n              )}\n            </Form.Item>\n            <div className={styles.footer}>\n              <div>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Confirmer\n                </Button>\n              </div>\n              <div>\n                <Button onClick={this.handleCancel}>Annuler</Button>\n              </div>\n            </div>\n          </Form>\n        </Spin>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.clients\n}\n\nconst WrappedClientModalForm = Form.create({ name: 'edit_client_modal' })(EditClientModal);\n\nexport default connect(mapStateToProps)(WrappedClientModalForm)\n"]},"metadata":{},"sourceType":"module"}