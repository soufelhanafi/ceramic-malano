{"ast":null,"code":"var _jsxFileName = \"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/purchase/purchasesList/index.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Table, Button } from \"antd\";\nimport purchaseActions from \"../../../redux/purchase/actions\";\nimport styles from \"./styles.module.scss\";\n\nclass PurchasesList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.columns = [{\n      title: 'Produit',\n      dataIndex: 'productName',\n      key: 'fullName',\n      sorter: true\n    }, {\n      title: 'Client',\n      dataIndex: 'clientName',\n      key: 'clientName',\n      sorter: true\n    }, {\n      title: 'CINE',\n      dataIndex: 'cine',\n      key: 'cine',\n      sorter: true\n    }, {\n      title: 'Reste à payer',\n      dataIndex: 'restToPay',\n      key: 'restToPay',\n      sorter: true\n    }, {\n      title: 'Total à payer',\n      dataIndex: 'totalPaid',\n      key: 'totalToPay',\n      sorter: true\n    }];\n\n    this.showEditModal = (e, record) => {\n      e.preventDefault();\n      this.props.dispatch({\n        type: purchaseActions.SET_STATE,\n        payload: {\n          showEditModal: true,\n          purchaseToEdit: record\n        }\n      });\n    };\n\n    this.showDeleteModal = (e, record) => {\n      e.preventDefault();\n      this.props.dispatch({\n        type: purchaseActions.SET_STATE,\n        payload: {\n          showDeleteModal: true,\n          purchaseToDelete: record\n        }\n      });\n    };\n\n    this.handleTableChange = (pagination, filters, sorter) => {\n      const order = sorter.order ? sorter.order.includes(\"asc\") ? \"asc\" : \"desc\" : null;\n      const sort = sorter.column ? sorter.field : null;\n      this.props.dispatch({\n        type: purchaseActions.LOAD_CLIENTS,\n        payload: {\n          size: pagination.pageSize,\n          page: pagination.current,\n          sort,\n          order\n        }\n      });\n    };\n  }\n\n  render() {\n    const {\n      purchases,\n      page,\n      totalElements,\n      size\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Table, {\n      columns: this.columns,\n      dataSource: purchases,\n      onChange: this.handleTableChange,\n      pagination: {\n        current: parseInt(page),\n        total: parseInt(totalElements),\n        pageSize: parseInt(size)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return state.purchases;\n};\n\nexport default connect(mapStateToProps)(PurchasesList);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano-frontend/src/pages/purchase/purchasesList/index.js"],"names":["React","connect","Table","Button","purchaseActions","styles","PurchasesList","Component","columns","title","dataIndex","key","sorter","showEditModal","e","record","preventDefault","props","dispatch","type","SET_STATE","payload","purchaseToEdit","showDeleteModal","purchaseToDelete","handleTableChange","pagination","filters","order","includes","sort","column","field","LOAD_CLIENTS","size","pageSize","page","current","render","purchases","totalElements","parseInt","total","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Table, Button } from \"antd\"\nimport purchaseActions from \"../../../redux/purchase/actions\"\nimport styles from \"./styles.module.scss\"\n\nclass PurchasesList extends React.Component {\n\n  columns = [\n    {\n    title: 'Produit',\n    dataIndex: 'productName',\n    key: 'fullName',\n    sorter: true\n  },\n  {\n    title: 'Client',\n    dataIndex: 'clientName',\n    key: 'clientName',\n    sorter: true\n  },\n  {\n    title: 'CINE',\n    dataIndex: 'cine',\n    key: 'cine',\n    sorter: true\n  },{\n    title: 'Reste à payer',\n    dataIndex: 'restToPay',\n    key: 'restToPay',\n    sorter: true\n  },{\n    title: 'Total à payer',\n    dataIndex: 'totalPaid',\n    key: 'totalToPay',\n    sorter: true\n  },\n  ]\n\n  showEditModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: purchaseActions.SET_STATE,\n      payload: { showEditModal: true, purchaseToEdit:record }\n    })\n  }\n\n  showDeleteModal = (e, record) =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: purchaseActions.SET_STATE,\n      payload: { showDeleteModal: true, purchaseToDelete:record }\n    })\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    const order = sorter.order ? sorter.order.includes(\"asc\")?\"asc\":\"desc\" : null\n    const sort = sorter.column?sorter.field:null\n    this.props.dispatch({\n      type: purchaseActions.LOAD_CLIENTS,\n      payload:{size:pagination.pageSize, page: pagination.current, sort, order}\n    })\n  }\n\n\n  render(){\n    const {purchases, page, totalElements, size} = this.props\n    return(\n          <Table\n            columns={this.columns}\n            dataSource={purchases}\n            onChange={this.handleTableChange}\n            pagination={{\n                  current: parseInt(page),\n                  total: parseInt(totalElements),\n                  pageSize: parseInt(size),\n                }}\n           />\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.purchases\n}\n\nexport default connect(mapStateToProps)(PurchasesList)\n"]},"metadata":{},"sourceType":"module"}