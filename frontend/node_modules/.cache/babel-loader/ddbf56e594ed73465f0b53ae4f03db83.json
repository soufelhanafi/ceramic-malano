{"ast":null,"code":"import _classCallCheck from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Modal,Button,Alert,Spin}from\"antd\";import{connect}from\"react-redux\";import clientActions from\"../../../redux/clients/actions\";import styles from\"./styles.module.scss\";var DeleteClient=/*#__PURE__*/function(_React$Component){_inherits(DeleteClient,_React$Component);var _super=_createSuper(DeleteClient);function DeleteClient(){var _this;_classCallCheck(this,DeleteClient);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleCancel=function(e){e.preventDefault();_this.props.dispatch({type:clientActions.SET_STATE,payload:{showDeleteModal:false,clientToDelete:{}}});};_this.handleSubmit=function(e){e.preventDefault();_this.props.dispatch({type:clientActions.DELETE_CLIENT});};return _this;}_createClass(DeleteClient,[{key:\"render\",value:function render(){var _this$props=this.props,loadingInModal=_this$props.loadingInModal,showDeleteModal=_this$props.showDeleteModal,clientToDelete=_this$props.clientToDelete;var message=\"Voulez vous vraiment supprimer le clinet \".concat(clientToDelete.fullName,\".\");message=clientToDelete.totalToPay>0?message+\" Il a encore une dette de \".concat(clientToDelete.totalToPay,\"dhs \\xE0 payer\"):message+\"\";return/*#__PURE__*/React.createElement(Modal,{title:\"Delete Client\",visible:showDeleteModal,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:true,footer:null},/*#__PURE__*/React.createElement(Spin,{spinning:loadingInModal},/*#__PURE__*/React.createElement(Alert,{style:{fontSize:16},message:message,type:\"error\",banner:true,showIcon:false}),/*#__PURE__*/React.createElement(\"div\",{className:styles.footer},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"danger\",onClick:this.handleSubmit},\"Confirmer\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleCancel},\"Annuler\")))));}}]);return DeleteClient;}(React.Component);var mapStateToProps=function mapStateToProps(state){return state.clients;};export default connect(mapStateToProps)(DeleteClient);","map":{"version":3,"sources":["/Users/soufelhanafi/souf-projects/fl/bachir/ceramic-milano/frontend/src/pages/clients/deleteModal/index.js"],"names":["React","Modal","Button","Alert","Spin","connect","clientActions","styles","DeleteClient","handleCancel","e","preventDefault","props","dispatch","type","SET_STATE","payload","showDeleteModal","clientToDelete","handleSubmit","DELETE_CLIENT","loadingInModal","message","fullName","totalToPay","handleOk","fontSize","footer","Component","mapStateToProps","state","clients"],"mappings":"wtBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,KAAvB,CAA8BC,IAA9B,KAAyC,MAAzC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,GAEMC,CAAAA,Y,+VACJC,Y,CAAe,SAAAC,CAAC,CAAG,CACjBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWC,QAAX,CAAoB,CAClBC,IAAI,CAACR,aAAa,CAACS,SADD,CAElBC,OAAO,CAAE,CAACC,eAAe,CAAE,KAAlB,CAAyBC,cAAc,CAAE,EAAzC,CAFS,CAApB,EAID,C,OAEDC,Y,CAAa,SAAAT,CAAC,CAAE,CACdA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWC,QAAX,CAAoB,CAClBC,IAAI,CAAER,aAAa,CAACc,aADF,CAApB,EAGD,C,+EACO,iBACoD,KAAKR,KADzD,CACCS,cADD,aACCA,cADD,CACiBJ,eADjB,aACiBA,eADjB,CACkCC,cADlC,aACkCA,cADlC,CAGN,GAAII,CAAAA,OAAO,oDAA+CJ,cAAc,CAACK,QAA9D,KAAX,CACAD,OAAO,CAAGJ,cAAc,CAACM,UAAf,CAA4B,CAA5B,CAAgCF,OAAO,qCAA+BJ,cAAc,CAACM,UAA9C,kBAAvC,CAA6GF,OAAO,CAAC,EAA/H,CACA,mBACI,oBAAC,KAAD,EACI,KAAK,CAAC,eADV,CAEI,OAAO,CAAEL,eAFb,CAGI,IAAI,CAAE,KAAKQ,QAHf,CAII,QAAQ,CAAE,KAAKhB,YAJnB,CAKI,cAAc,CAAE,IALpB,CAMI,MAAM,CAAE,IANZ,eAQE,oBAAC,IAAD,EAAM,QAAQ,CAAEY,cAAhB,eACE,oBAAC,KAAD,EAAO,KAAK,CAAE,CAACK,QAAQ,CAAE,EAAX,CAAd,CAA8B,OAAO,CAAEJ,OAAvC,CAAgD,IAAI,CAAC,OAArD,CAA6D,MAAM,KAAnE,CAAoE,QAAQ,CAAE,KAA9E,EADF,cAEA,2BAAK,SAAS,CAAEf,MAAM,CAACoB,MAAvB,eACE,4CACE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,KAAKR,YAApC,cADF,CADF,cAME,4CACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKV,YAAtB,YADF,CANF,CAFA,CARF,CADJ,CAwBD,C,0BA5CwBT,KAAK,CAAC4B,S,EA+CjC,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAE,CAC7B,MAAOA,CAAAA,KAAK,CAACC,OAAb,CACD,CAFD,CAKA,cAAe1B,CAAAA,OAAO,CAACwB,eAAD,CAAP,CAAyBrB,YAAzB,CAAf","sourcesContent":["import React from \"react\"\nimport {Modal, Button, Alert, Spin} from \"antd\"\nimport {connect} from \"react-redux\"\nimport clientActions from \"../../../redux/clients/actions\"\nimport styles from \"./styles.module.scss\"\n\nclass DeleteClient extends React.Component {\n  handleCancel = e =>{\n    e.preventDefault()\n    this.props.dispatch({\n      type:clientActions.SET_STATE,\n      payload: {showDeleteModal: false, clientToDelete: {}}\n    })\n  }\n\n  handleSubmit=e=>{\n    e.preventDefault()\n    this.props.dispatch({\n      type: clientActions.DELETE_CLIENT,\n    })\n  }\n  render(){\n    const {loadingInModal, showDeleteModal, clientToDelete} = this.props\n    \n    let message = `Voulez vous vraiment supprimer le clinet ${clientToDelete.fullName}.`\n    message = clientToDelete.totalToPay > 0 ? message +` Il a encore une dette de ${clientToDelete.totalToPay}dhs Ã  payer`:message+\"\"\n    return(\n        <Modal\n            title=\"Delete Client\"\n            visible={showDeleteModal}\n            onOk={this.handleOk}\n            onCancel={this.handleCancel}\n            destroyOnClose={true}\n            footer={null}\n          >\n          <Spin spinning={loadingInModal} >\n            <Alert style={{fontSize: 16}} message={message} type=\"error\" banner showIcon={false} />\n          <div className={styles.footer}>\n            <div>\n              <Button type=\"danger\" onClick={this.handleSubmit}>\n                Confirmer\n              </Button>\n            </div>\n            <div>\n              <Button onClick={this.handleCancel}>Annuler</Button>\n            </div>\n          </div>\n          </Spin>\n        </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state=>{\n  return state.clients\n}\n\n\nexport default connect(mapStateToProps)(DeleteClient)\n"]},"metadata":{},"sourceType":"module"}